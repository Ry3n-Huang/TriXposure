{% extends "quiz_base.html" %}
{% block content %}
<div class="current-score">
    <i class="fas fa-star"></i> Current Score: {{ score }}/5
</div>

<div class="quiz-card">
    <h3 class="mb-4">‚è± What shutter speed was used here?</h3>
    <form method="POST" action="{{ url_for('quiz', q_num=2) }}">
        <div class="shutter-container">
            <img src="{{ url_for('static', filename='images/' + question.image) }}" 
                 class="shutter-image"
                 alt="Shutter speed example photo">
            
            <div class="options-grid">
                {% for option in question.options %}
                <label class="option-card">
                    <input type="radio" 
                           name="answer" 
                           value="{{ option.value }}" 
                           required>
                    <div class="option-content">
                        <span class="speed-value">{{ option.text }}</span>
                        <div class="speed-description">
                            {% if option.text == '1/2000s' %}
                                Freeze fast action
                            {% elif option.text == '1/60s' %}
                                Mild motion blur
                            {% else %}
                                Long light trails
                            {% endif %}
                        </div>
                    </div>
                </label>
                {% endfor %}
            </div>
        </div>

        {% if feedback %}
        <div class="feedback {% if feedback.correct %}correct{% else %}incorrect{% endif %}">
            <div class="feedback-content">
                <h5>
                    {% if feedback.correct %}
                    <i class="fas fa-check-circle"></i> Correct!
                    {% else %}
                    <i class="fas fa-times-circle"></i> Wrong..
                    {% endif %}
                </h5>
                <p class="feedback-message">{{ feedback.message|safe }}</p>
                {% if not feedback.correct %}
                <p class="correct-answer">Correct answer: {{ feedback.correct_answer }}</p>
                {% endif %}
                <div class="feedback-actions">
                    <a href="{{ url_for('quiz', q_num=q_num+1) }}" class="btn btn-primary">
                        Next <i class="fas fa-arrow-right"></i>
                    </a>
                </div>
            </div>
        </div>
        {% else %}
        <div class="text-center">
            <button type="submit" class="btn btn-primary btn-submit">
                <i class="fas fa-check"></i> Submit Answer
            </button>
        </div>
        {% endif %}
    </form>
</div>
{% endblock %}